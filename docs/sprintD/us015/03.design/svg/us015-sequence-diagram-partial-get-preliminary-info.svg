<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="770px" preserveAspectRatio="none" style="width:1068px;height:770px;background:#FFFFFF;" version="1.1" viewBox="0 0 1068 770" width="1068px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="350" x="358" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="340" x="363" y="29.5332">Sequence Diagram - Partial - Get Preliminary Info</text><rect fill="#FFFFFF" height="562.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="106.5" y="136.1797"/><rect fill="#FFFFFF" height="344.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="111.5" y="225.2344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="278.5" y="156.5313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="405.5" y="260.5859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="552.5" y="321.2891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="685.5" y="381.9922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="798.5" y="442.6953"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="798.5" y="607.4531"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="922.5" y="503.3984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="668.1563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="111" x2="111" y1="93.8281" y2="716.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="283" x2="283" y1="93.8281" y2="716.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="410" x2="410" y1="93.8281" y2="716.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="557" x2="557" y1="93.8281" y2="716.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="690" x2="690" y1="93.8281" y2="716.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="803" x2="803" y1="93.8281" y2="716.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="927" x2="927" y1="93.8281" y2="716.5078"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1032" x2="1032" y1="93.8281" y2="716.5078"/><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="5" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="12" y="82.752">:ListBookingRequestsController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="213" x="5" y="715.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="12" y="737.041">:ListBookingRequestsController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="235" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="242" y="82.752">:Repositories</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="235" y="715.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="242" y="737.041">:Repositories</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="342" y="61.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="349" y="82.752">:ApplicationSession</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="342" y="715.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="349" y="737.041">:ApplicationSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="489" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="520.5" y="65.1426">appSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="496" y="82.752">:ApplicationSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="489" y="715.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="520.5" y="737.041">appSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="496" y="754.6504">:ApplicationSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="636" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="643" y="65.1426">currentSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="649" y="82.752">:UserSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="636" y="715.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="643" y="737.041">currentSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="649" y="754.6504">:UserSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="755" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="766.5" y="65.1426">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="762" y="82.752">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="755" y="715.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="766.5" y="737.041">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="762" y="754.6504">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="862" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="871.5" y="65.1426">personRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="869" y="82.752">:PersonRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="862" y="715.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="871.5" y="737.041">personRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="869" y="754.6504">:PersonRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="1003" y="43.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1013.5" y="65.1426">config</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1010" y="82.752">:Config</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="1003" y="715.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1013.5" y="737.041">config</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="1010" y="754.6504">:Config</text><rect fill="#FFFFFF" height="562.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="106.5" y="136.1797"/><rect fill="#FFFFFF" height="344.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="111.5" y="225.2344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="278.5" y="156.5313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="405.5" y="260.5859"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="552.5" y="321.2891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="685.5" y="381.9922"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="798.5" y="442.6953"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="798.5" y="607.4531"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="922.5" y="503.3984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1027.5" y="668.1563"/><polygon fill="#181818" points="99.5,122.1797,109.5,126.1797,99.5,130.1797,103.5,126.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="105.5" y1="126.1797" y2="126.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="7" y="121.3232">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="18" y="121.3232">creates</text><polygon fill="#181818" points="266.5,152.5313,276.5,156.5313,266.5,160.5313,270.5,156.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="116.5" x2="272.5" y1="156.5313" y2="156.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="123.5" y="151.6748">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="134.5" y="151.6748">getInstance()</text><polygon fill="#181818" points="127.5,182.8828,117.5,186.8828,127.5,190.8828,123.5,186.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="121.5" x2="282.5" y1="186.8828" y2="186.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="133.5" y="182.0264">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="144.5" y="182.0264">repositories</text><line style="stroke:#181818;stroke-width:1.0;" x1="116.5" x2="163.5" y1="212.2344" y2="212.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="163.5" y1="212.2344" y2="225.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="122.5" x2="163.5" y1="225.2344" y2="225.2344"/><polygon fill="#181818" points="132.5,221.2344,122.5,225.2344,132.5,229.2344,128.5,225.2344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="128.5" y="207.3779">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="139.5" y="207.3779">getAgentFromSession()</text><polygon fill="#181818" points="393.5,256.5859,403.5,260.5859,393.5,264.5859,397.5,260.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="121.5" x2="399.5" y1="260.5859" y2="260.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="128.5" y="255.7295">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="139.5" y="255.7295">getInstance()</text><polygon fill="#181818" points="132.5,286.9375,122.5,290.9375,132.5,294.9375,128.5,290.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="126.5" x2="409.5" y1="290.9375" y2="290.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="138.5" y="286.0811">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="149.5" y="286.0811">appSession</text><polygon fill="#181818" points="540.5,317.2891,550.5,321.2891,540.5,325.2891,544.5,321.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="121.5" x2="546.5" y1="321.2891" y2="321.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="128.5" y="316.4326">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="139.5" y="316.4326">getCurrentSession()</text><polygon fill="#181818" points="132.5,347.6406,122.5,351.6406,132.5,355.6406,128.5,351.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="126.5" x2="556.5" y1="351.6406" y2="351.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="138.5" y="346.7842">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="149.5" y="346.7842">currentSession</text><polygon fill="#181818" points="673.5,377.9922,683.5,381.9922,673.5,385.9922,677.5,381.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="121.5" x2="679.5" y1="381.9922" y2="381.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="128.5" y="377.1357">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="146.5" y="377.1357">getUserEmail()</text><polygon fill="#181818" points="132.5,408.3438,122.5,412.3438,132.5,416.3438,128.5,412.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="126.5" x2="689.5" y1="412.3438" y2="412.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="138.5" y="407.4873">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="156.5" y="407.4873">employeeEmail</text><polygon fill="#181818" points="786.5,438.6953,796.5,442.6953,786.5,446.6953,790.5,442.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="121.5" x2="792.5" y1="442.6953" y2="442.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="128.5" y="437.8389">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="146.5" y="437.8389">getPersonRepository()</text><polygon fill="#181818" points="132.5,469.0469,122.5,473.0469,132.5,477.0469,128.5,473.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="126.5" x2="802.5" y1="473.0469" y2="473.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="138.5" y="468.1904">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="156.5" y="468.1904">PersonRepository</text><polygon fill="#181818" points="910.5,499.3984,920.5,503.3984,910.5,507.3984,914.5,503.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="121.5" x2="916.5" y1="503.3984" y2="503.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="128.5" y="498.542">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="146.5" y="498.542">getPersonByEmail(agentEmail)</text><polygon fill="#181818" points="132.5,529.75,122.5,533.75,132.5,537.75,128.5,533.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="126.5" x2="926.5" y1="533.75" y2="533.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="138.5" y="528.8936">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="156.5" y="528.8936">employee</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="121.5" x2="163.5" y1="569.1016" y2="569.1016"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="163.5" x2="163.5" y1="569.1016" y2="582.1016"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="116.5" x2="163.5" y1="582.1016" y2="582.1016"/><polygon fill="#181818" points="126.5,578.1016,116.5,582.1016,126.5,586.1016,122.5,582.1016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="128.5" y="564.2451">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="146.5" y="564.2451">employee</text><polygon fill="#181818" points="786.5,603.4531,796.5,607.4531,786.5,611.4531,790.5,607.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="116.5" x2="792.5" y1="607.4531" y2="607.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="123.5" y="602.5967">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="141.5" y="602.5967">getAdvertisementRepository()</text><polygon fill="#181818" points="127.5,633.8047,117.5,637.8047,127.5,641.8047,123.5,637.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="121.5" x2="802.5" y1="637.8047" y2="637.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="133.5" y="632.9482">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="151.5" y="632.9482">AdvertisementRepository</text><polygon fill="#181818" points="1015.5,664.1563,1025.5,668.1563,1015.5,672.1563,1019.5,668.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="116.5" x2="1021.5" y1="668.1563" y2="668.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="123.5" y="663.2998">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="141.5" y="663.2998">getSortingAlgorithm()</text><polygon fill="#181818" points="122.5,694.5078,112.5,698.5078,122.5,702.5078,118.5,698.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="116.5" x2="1031.5" y1="698.5078" y2="698.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="128.5" y="693.6514">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="146.5" y="693.6514">algorithm</text><!--MD5=[1d32dd22253d7a69a44c3a2dd20823ca]
@startuml Sequence Diagram Full - List Booking Request
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title Sequence Diagram - Partial - Get Preliminary Info
autonumber

'hide footbox
participant ":ListBookingRequestsController" as CTRL
participant ":Repositories" as RepositorySingleton
participant ":ApplicationSession" as _APP
participant "appSession\n:ApplicationSession" as APP
participant "currentSession\n:UserSession" as SESSAO
participant "repositories\n:Repositories" as REPO
participant "personRepository\n:PersonRepository" as PR
participant "config\n:Config" as config

autonumber 2

-> CTRL** : creates
activate CTRL
    CTRL -> RepositorySingleton : getInstance()
    activate RepositorySingleton
        RepositorySingleton - -> CTRL : repositories
    deactivate RepositorySingleton

    CTRL -> CTRL : getAgentFromSession()

        activate CTRL
            CTRL -> _APP : getInstance()
            activate _APP
                _APP -> CTRL: appSession
            deactivate _APP

            CTRL -> APP: getCurrentSession()
            activate APP
                APP - -> CTRL: currentSession
            deactivate APP

            CTRL -> SESSAO: getUserEmail()
            activate SESSAO
                SESSAO - -> CTRL: employeeEmail
            deactivate SESSAO

            CTRL -> REPO : getPersonRepository()
            activate REPO
                REPO - -> CTRL : PersonRepository
            deactivate REPO
            CTRL -> PR : getPersonByEmail(agentEmail)
            activate PR
                PR - -> CTRL : employee
            deactivate PR
        CTRL - -> CTRL : employee
        deactivate CTRL

    CTRL -> REPO : getAdvertisementRepository()
    activate REPO
        REPO - -> CTRL : AdvertisementRepository
    deactivate REPO

    CTRL -> config : getSortingAlgorithm()
    activate config
        config - -> CTRL : algorithm
    deactivate config
    
deactivate CTRL

@enduml

@startuml Sequence Diagram Full - List Booking Request
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title Sequence Diagram - Partial - Get Preliminary Info
autonumber

participant ":ListBookingRequestsController" as CTRL
participant ":Repositories" as RepositorySingleton
participant ":ApplicationSession" as _APP
participant "appSession\n:ApplicationSession" as APP
participant "currentSession\n:UserSession" as SESSAO
participant "repositories\n:Repositories" as REPO
participant "personRepository\n:PersonRepository" as PR
participant "config\n:Config" as config

autonumber 2

-> CTRL** : creates
activate CTRL
    CTRL -> RepositorySingleton : getInstance()
    activate RepositorySingleton
        RepositorySingleton - -> CTRL : repositories
    deactivate RepositorySingleton

    CTRL -> CTRL : getAgentFromSession()

        activate CTRL
            CTRL -> _APP : getInstance()
            activate _APP
                _APP -> CTRL: appSession
            deactivate _APP

            CTRL -> APP: getCurrentSession()
            activate APP
                APP - -> CTRL: currentSession
            deactivate APP

            CTRL -> SESSAO: getUserEmail()
            activate SESSAO
                SESSAO - -> CTRL: employeeEmail
            deactivate SESSAO

            CTRL -> REPO : getPersonRepository()
            activate REPO
                REPO - -> CTRL : PersonRepository
            deactivate REPO
            CTRL -> PR : getPersonByEmail(agentEmail)
            activate PR
                PR - -> CTRL : employee
            deactivate PR
        CTRL - -> CTRL : employee
        deactivate CTRL

    CTRL -> REPO : getAdvertisementRepository()
    activate REPO
        REPO - -> CTRL : AdvertisementRepository
    deactivate REPO

    CTRL -> config : getSortingAlgorithm()
    activate config
        config - -> CTRL : algorithm
    deactivate config
    
deactivate CTRL

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>