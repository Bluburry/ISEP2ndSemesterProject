<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="4262px" preserveAspectRatio="none" style="width:4047px;height:4262px;background:#FFFFFF;" version="1.1" viewBox="0 0 4047 4262" width="4047px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="4070.0469" style="stroke:#181818;stroke-width:1.0;" width="10" x="56.5" y="92.6094"/><rect fill="#FFFFFF" height="150.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="114.9609"/><rect fill="#FFFFFF" height="472.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="295.3281"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="797.8203"/><rect fill="#FFFFFF" height="228.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="874.875"/><rect fill="#FFFFFF" height="162.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1134.0391"/><rect fill="#FFFFFF" height="228.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1333.9844"/><rect fill="#FFFFFF" height="72.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1593.1484"/><rect fill="#FFFFFF" height="72.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1695.5547"/><rect fill="#FFFFFF" height="104.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1797.9609"/><rect fill="#FFFFFF" height="228.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1932.7188"/><rect fill="#FFFFFF" height="76.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="2191.8828"/><rect fill="#FFFFFF" height="53.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="2298.9375"/><rect fill="#FFFFFF" height="1779.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="2382.9922"/><rect fill="#FFFFFF" height="62.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="155.3125"/><rect fill="#FFFFFF" height="395.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="325.6797"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="905.2266"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="1364.3359"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="1963.0703"/><rect fill="#FFFFFF" height="1653.5547" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="2478.75"/><rect fill="#FFFFFF" height="223.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="748.5" y="2517.1016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="925" y="187.9219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="356.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="935.5781"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="1394.6875"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="1993.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="2777.9141"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="3659.2969"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="3903.9766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1281" y="416.7344"/><rect fill="#FFFFFF" height="120.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="1281" y="562.4922"/><rect fill="#FFFFFF" height="33.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="1606.5" y="619.1953"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1735.5" y="996.2813"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1919" y="1455.3906"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2100" y="2054.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2263.5" y="2552.4531"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2410.5" y="2613.1563"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2543.5" y="2673.8594"/><rect fill="#FFFFFF" height="123.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="2678" y="2896.6719"/><rect fill="#FFFFFF" height="172.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2678" y="3148.375"/><rect fill="#FFFFFF" height="172.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2678" y="3449.1328"/><rect fill="#FFFFFF" height="20.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3019" y="2969.7266"/><rect fill="#FFFFFF" height="20.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3099" y="3270.4844"/><rect fill="#FFFFFF" height="20.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3172" y="3571.2422"/><rect fill="#FFFFFF" height="120.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="3280.5" y="3752.7031"/><rect fill="#FFFFFF" height="33.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="3535" y="3809.4063"/><rect fill="#FFFFFF" height="120.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="3668.5" y="3981.0313"/><rect fill="#FFFFFF" height="33.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="3982.5" y="4037.7344"/><rect fill="none" height="185.9766" style="stroke:#000000;stroke-width:1.5;" width="1037.5" x="615.5" y="505.4375"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:1.5;" width="474.5" x="30" y="1149.0391"/><rect fill="none" height="605.7344" style="stroke:#000000;stroke-width:1.5;" width="2210" x="10" y="1608.1484"/><rect fill="none" height="95.4063" style="stroke:#000000;stroke-width:1.5;" width="474.5" x="30" y="1710.5547"/><rect fill="none" height="386.9219" style="stroke:#000000;stroke-width:1.5;" width="2190" x="20" y="1819.9609"/><rect fill="none" height="354.5703" style="stroke:#000000;stroke-width:1.5;" width="2170" x="30" y="1845.3125"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="474.5" x="30" y="2227.8828"/><rect fill="none" height="806.6797" style="stroke:#000000;stroke-width:1.5;" width="2600.5" x="615.5" y="2823.2656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="61" x2="61" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="396.5" x2="396.5" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="748.5" x2="748.5" y1="154.2656" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="929.5" x2="929.5" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1036.5" x2="1036.5" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1152.5" x2="1152.5" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1285.5" x2="1285.5" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1611" x2="1611" y1="610.6016" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1740" x2="1740" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1924" x2="1924" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2105" x2="2105" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2268" x2="2268" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2415" x2="2415" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2548" x2="2548" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2683" x2="2683" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3024" x2="3024" y1="2946.1992" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3104" x2="3104" y1="3222.4297" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3177" x2="3177" y1="3523.1875" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3285" x2="3285" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3539.5" x2="3539.5" y1="3800.8125" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3673.5" x2="3673.5" y1="82.6094" y2="4180.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3987.5" x2="3987.5" y1="4029.1406" y2="4180.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="40" y="79.5332">Agent</text><ellipse cx="61.5" cy="13.5" fill="#E3E3E3" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M61.5,21.5 L61.5,48.5 M48.5,29.5 L74.5,29.5 M61.5,48.5 L48.5,63.5 M61.5,48.5 L74.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="40" y="4194.1895">Agent</text><ellipse cx="61.5" cy="4205.7656" fill="#E3E3E3" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M61.5,4213.7656 L61.5,4240.7656 M48.5,4221.7656 L74.5,4221.7656 M61.5,4240.7656 L48.5,4255.7656 M61.5,4240.7656 L74.5,4255.7656 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196" x="298.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="305.5" y="71.5332">:CreateSaleAnnouncementUI</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196" x="298.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="305.5" y="4201.1895">:CreateSaleAnnouncementUI</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="625.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="632.5" y="4201.1895">:CreateSaleAnnouncementController</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="881.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="888.5" y="71.5332">:Repositories</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="881.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="888.5" y="4201.1895">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="988.5" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1000" y="53.9238">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="995.5" y="71.5332">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="988.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1000" y="4201.1895">repositories</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="995.5" y="4218.7988">:Repositories</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1095.5" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1105" y="53.9238">userRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1102.5" y="71.5332">:UserRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1095.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1105" y="4201.1895">userRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1102.5" y="4218.7988">:UserRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="1220.5" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1230" y="53.9238">personRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1227.5" y="71.5332">:PersonRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="1220.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1230" y="4201.1895">personRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1227.5" y="4218.7988">:PersonRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="1580" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1589.5" y="4201.1895">person</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1587" y="4218.7988">:Person</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175" x="1653" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="1662.5" y="53.9238">businessTypeRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1660" y="71.5332">:BusinessTypeRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175" x="1653" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="1662.5" y="4201.1895">businessTypeRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1660" y="4218.7988">:BusinessTypeRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="1838" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="1847.5" y="53.9238">propertyTypeRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="1845" y="71.5332">:PropertyTypeRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="1838" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="1847.5" y="4201.1895">propertyTypeRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="1845" y="4218.7988">:PropertyTypeRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="2020" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="2030" y="53.9238">sunExposureRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="2027" y="71.5332">:SunExposureRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="2020" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="2030" y="4201.1895">sunExposureRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="2027" y="4218.7988">:SunExposureRepository</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="2200" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2207" y="71.5332">:ApplicationSession</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="2200" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2207" y="4201.1895">:ApplicationSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="2347" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="2378.5" y="53.9238">appSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2354" y="71.5332">:ApplicationSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="2347" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="2378.5" y="4201.1895">appSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2354" y="4218.7988">:ApplicationSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="2494" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="2501" y="53.9238">currentSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="2507" y="71.5332">:UserSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="2494" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="2501" y="4201.1895">currentSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="2507" y="4218.7988">:UserSession</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="2613" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="2622.5" y="53.9238">propertyRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="2620" y="71.5332">:PropertyRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="2613" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="2622.5" y="4201.1895">propertyRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="2620" y="4218.7988">:PropertyRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="2988" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="2997.5" y="4201.1895">property</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="2995" y="4218.7988">:Property</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="3070" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="3079.5" y="4201.1895">building</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="3077" y="4218.7988">:Building</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="3148" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="3157.5" y="4201.1895">house</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="3155" y="4218.7988">:House</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="3216" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="3227.5" y="53.9238">requestRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="3223" y="71.5332">:RequestRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="3216" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="3227.5" y="4201.1895">requestRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="3223" y="4218.7988">:RequestRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="3504.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="3516" y="4201.1895">request</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="3511.5" y="4218.7988">:Request</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="3585.5" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="3595" y="53.9238">advertisementRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="3592.5" y="71.5332">:AdvertisementRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="3585.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="3595" y="4201.1895">advertisementRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="3592.5" y="4218.7988">:AdvertisementRepository</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="3933.5" y="4179.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="3943" y="4201.1895">advertisement</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="3940.5" y="4218.7988">:Advertisement</text><rect fill="#FFFFFF" height="4070.0469" style="stroke:#181818;stroke-width:1.0;" width="10" x="56.5" y="92.6094"/><rect fill="#FFFFFF" height="150.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="114.9609"/><rect fill="#FFFFFF" height="472.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="295.3281"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="797.8203"/><rect fill="#FFFFFF" height="228.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="874.875"/><rect fill="#FFFFFF" height="162.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1134.0391"/><rect fill="#FFFFFF" height="228.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1333.9844"/><rect fill="#FFFFFF" height="72.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1593.1484"/><rect fill="#FFFFFF" height="72.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1695.5547"/><rect fill="#FFFFFF" height="104.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1797.9609"/><rect fill="#FFFFFF" height="228.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="1932.7188"/><rect fill="#FFFFFF" height="76.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="2191.8828"/><rect fill="#FFFFFF" height="53.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="2298.9375"/><rect fill="#FFFFFF" height="1779.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="391.5" y="2382.9922"/><rect fill="#FFFFFF" height="62.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="155.3125"/><rect fill="#FFFFFF" height="395.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="325.6797"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="905.2266"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="1364.3359"/><rect fill="#FFFFFF" height="151.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="1963.0703"/><rect fill="#FFFFFF" height="1653.5547" style="stroke:#181818;stroke-width:1.0;" width="10" x="743.5" y="2478.75"/><rect fill="#FFFFFF" height="223.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="748.5" y="2517.1016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="925" y="187.9219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="356.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="935.5781"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="1394.6875"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="1993.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="2777.9141"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="3659.2969"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1032" y="3903.9766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1281" y="416.7344"/><rect fill="#FFFFFF" height="120.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="1281" y="562.4922"/><rect fill="#FFFFFF" height="33.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="1606.5" y="619.1953"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1735.5" y="996.2813"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1919" y="1455.3906"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2100" y="2054.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2263.5" y="2552.4531"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2410.5" y="2613.1563"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2543.5" y="2673.8594"/><rect fill="#FFFFFF" height="123.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="2678" y="2896.6719"/><rect fill="#FFFFFF" height="172.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2678" y="3148.375"/><rect fill="#FFFFFF" height="172.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2678" y="3449.1328"/><rect fill="#FFFFFF" height="20.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3019" y="2969.7266"/><rect fill="#FFFFFF" height="20.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3099" y="3270.4844"/><rect fill="#FFFFFF" height="20.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="3172" y="3571.2422"/><rect fill="#FFFFFF" height="120.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="3280.5" y="3752.7031"/><rect fill="#FFFFFF" height="33.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="3535" y="3809.4063"/><rect fill="#FFFFFF" height="120.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="3668.5" y="3981.0313"/><rect fill="#FFFFFF" height="33.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="3982.5" y="4037.7344"/><polygon fill="#181818" points="379.5,110.9609,389.5,114.9609,379.5,118.9609,383.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="73.5" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="84.5" y="110.1045">asks to create a new sale announcement</text><polygon fill="#181818" points="613.5,141.3125,623.5,145.3125,613.5,149.3125,617.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="401.5" x2="619.5" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="408.5" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="419.5" y="140.4561">creates</text><rect fill="#E3E3E3" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="625.5" y="122.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="632.5" y="144.4941">:CreateSaleAnnouncementController</text><polygon fill="#181818" points="913,183.9219,923,187.9219,913,191.9219,917,187.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="919" y1="187.9219" y2="187.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="760.5" y="183.0654">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="771.5" y="183.0654">getInstance()</text><polygon fill="#181818" points="759.5,214.2734,749.5,218.2734,759.5,222.2734,755.5,218.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753.5" x2="929" y1="218.2734" y2="218.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="765.5" y="213.417">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="776.5" y="213.417">repositories</text><polygon fill="#181818" points="77.5,260.9766,67.5,264.9766,77.5,268.9766,73.5,264.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="264.9766" y2="264.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="83.5" y="251.9443">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="94.5" y="243.7686">request owner data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="94.5" y="260.1201">(email, citizen ID, tin, phone number, name)</text><polygon fill="#181818" points="379.5,291.3281,389.5,295.3281,379.5,299.3281,383.5,295.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="295.3281" y2="295.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="73.5" y="290.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="84.5" y="290.4717">types requested data</text><polygon fill="#181818" points="731.5,321.6797,741.5,325.6797,731.5,329.6797,735.5,325.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="401.5" x2="737.5" y1="325.6797" y2="325.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="408.5" y="320.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="419.5" y="320.8232">getOwner(email, citizen ID, tin, phone number, name)</text><polygon fill="#181818" points="1020,352.0313,1030,356.0313,1020,360.0313,1024,356.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1026" y1="356.0313" y2="356.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="760.5" y="351.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="771.5" y="351.1748">getPersonRepository()</text><polygon fill="#181818" points="764.5,382.3828,754.5,386.3828,764.5,390.3828,760.5,386.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1036" y1="386.3828" y2="386.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="770.5" y="381.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="781.5" y="381.5264">PersonRepository</text><polygon fill="#181818" points="1269,412.7344,1279,416.7344,1269,420.7344,1273,416.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1275" y1="416.7344" y2="416.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="411.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="778.5" y="411.8779">getPerson(citizenID)</text><polygon fill="#181818" points="764.5,443.0859,754.5,447.0859,764.5,451.0859,760.5,447.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1285" y1="447.0859" y2="447.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="442.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="788.5" y="442.2295">person</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753.5" x2="795.5" y1="477.4375" y2="477.4375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="795.5" x2="795.5" y1="477.4375" y2="490.4375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="754.5" x2="795.5" y1="490.4375" y2="490.4375"/><polygon fill="#181818" points="764.5,486.4375,754.5,490.4375,764.5,494.4375,760.5,490.4375" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="472.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="778.5" y="472.5811">person</text><path d="M615.5,505.4375 L676.5,505.4375 L676.5,513.7891 L666.5,523.7891 L615.5,523.7891 L615.5,505.4375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="185.9766" style="stroke:#000000;stroke-width:1.5;" width="1037.5" x="615.5" y="505.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="630.5" y="519.9326">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="691.5" y="518.8564">[person = NULL]</text><polygon fill="#181818" points="1269,558.4922,1279,562.4922,1269,566.4922,1273,562.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1275" y1="562.4922" y2="562.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="549.46">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="778.5" y="541.2842">createPerson</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="778.5" y="557.6357">(email, citizenID, tin, phoneNumber, name)</text><polygon fill="#181818" points="1568,605.1953,1578,609.1953,1568,613.1953,1572,609.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1291" x2="1574" y1="609.1953" y2="609.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1298" y="596.1631">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="1316" y="587.9873">createPerson</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="1316" y="604.3389">(email, citizenID, tin, phoneNumber, name)</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="1580" y="570.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1589.5" y="592.0254">person</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1587" y="609.6348">:Person</text><polygon fill="#181818" points="1302,649.0625,1292,653.0625,1302,657.0625,1298,653.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1296" x2="1610.5" y1="653.0625" y2="653.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1308" y="648.2061">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1326" y="648.2061">person</text><polygon fill="#181818" points="764.5,679.4141,754.5,683.4141,764.5,687.4141,760.5,683.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1285" y1="683.4141" y2="683.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="678.5576">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="788.5" y="678.5576">person</text><polygon fill="#181818" points="412.5,716.7656,402.5,720.7656,412.5,724.7656,408.5,720.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="406.5" x2="747.5" y1="720.7656" y2="720.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="418.5" y="715.9092">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="436.5" y="715.9092">person</text><polygon fill="#181818" points="77.5,763.4688,67.5,767.4688,77.5,771.4688,73.5,767.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="767.4688" y2="767.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="754.4365">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="101.5" y="746.2607">requests general property data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="101.5" y="762.6123">(area, distance from city center)</text><polygon fill="#181818" points="379.5,793.8203,389.5,797.8203,379.5,801.8203,383.5,797.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="797.8203" y2="797.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="792.9639">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="91.5" y="792.9639">types requested data</text><polygon fill="#181818" points="77.5,840.5234,67.5,844.5234,77.5,848.5234,73.5,844.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="844.5234" y2="844.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="831.4912">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="101.5" y="823.3154">requests property location data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="101.5" y="839.667">(state, city, district, street, zip code)</text><polygon fill="#181818" points="379.5,870.875,389.5,874.875,379.5,878.875,383.5,874.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="874.875" y2="874.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="870.0186">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="91.5" y="870.0186">types requested data</text><polygon fill="#181818" points="731.5,901.2266,741.5,905.2266,731.5,909.2266,735.5,905.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="401.5" x2="737.5" y1="905.2266" y2="905.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="408.5" y="900.3701">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="426.5" y="900.3701">getBusinessTypes()</text><polygon fill="#181818" points="1020,931.5781,1030,935.5781,1020,939.5781,1024,935.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1026" y1="935.5781" y2="935.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="930.7217">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="778.5" y="930.7217">getBusinessTypeRepository()</text><polygon fill="#181818" points="764.5,961.9297,754.5,965.9297,764.5,969.9297,760.5,965.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1036" y1="965.9297" y2="965.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="961.0732">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="788.5" y="961.0732">BusinessTypeRepository</text><polygon fill="#181818" points="1723.5,992.2813,1733.5,996.2813,1723.5,1000.2813,1727.5,996.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1729.5" y1="996.2813" y2="996.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="991.4248">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="778.5" y="991.4248">getBusinessTypes()</text><polygon fill="#181818" points="764.5,1022.6328,754.5,1026.6328,764.5,1030.6328,760.5,1026.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1739.5" y1="1026.6328" y2="1026.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="1021.7764">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="788.5" y="1021.7764">businessTypeList</text><polygon fill="#181818" points="412.5,1052.9844,402.5,1056.9844,412.5,1060.9844,408.5,1056.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="406.5" x2="747.5" y1="1056.9844" y2="1056.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="418.5" y="1052.1279">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="436.5" y="1052.1279">businessTypeList</text><polygon fill="#181818" points="77.5,1099.6875,67.5,1103.6875,77.5,1107.6875,73.5,1103.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="1103.6875" y2="1103.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="1090.6553">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="101.5" y="1082.4795">shows business type list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="101.5" y="1098.8311">and asks to select one</text><polygon fill="#181818" points="379.5,1130.0391,389.5,1134.0391,379.5,1138.0391,383.5,1134.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="1134.0391" y2="1134.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="1129.1826">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="91.5" y="1129.1826">selects a business type</text><path d="M30,1149.0391 L91,1149.0391 L91,1157.3906 L81,1167.3906 L30,1167.3906 L30,1149.0391 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:1.5;" width="474.5" x="30" y="1149.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="45" y="1163.5342">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="106" y="1162.458">[businessType = sale]</text><polygon fill="#181818" points="77.5,1185.7422,67.5,1189.7422,77.5,1193.7422,73.5,1189.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="390.5" y1="1189.7422" y2="1189.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="1184.8857">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="101.5" y="1184.8857">request sale price</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="504.5" y1="1198.7422" y2="1198.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="35" y="1210.1611">[businessType = rent]</text><polygon fill="#181818" points="77.5,1231.9297,67.5,1235.9297,77.5,1239.9297,73.5,1235.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="390.5" y1="1235.9297" y2="1235.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="1231.0732">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="101.5" y="1231.0732">request price per month</text><polygon fill="#181818" points="379.5,1262.2813,389.5,1266.2813,379.5,1270.2813,383.5,1266.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="1266.2813" y2="1266.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="1261.4248">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="91.5" y="1261.4248">types requested data</text><polygon fill="#181818" points="77.5,1292.6328,67.5,1296.6328,77.5,1300.6328,73.5,1296.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="1296.6328" y2="1296.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="1291.7764">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="101.5" y="1291.7764">request lease duration</text><polygon fill="#181818" points="379.5,1329.9844,389.5,1333.9844,379.5,1337.9844,383.5,1333.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="1333.9844" y2="1333.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="1329.1279">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="91.5" y="1329.1279">types requested data</text><polygon fill="#181818" points="731.5,1360.3359,741.5,1364.3359,731.5,1368.3359,735.5,1364.3359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="401.5" x2="737.5" y1="1364.3359" y2="1364.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="408.5" y="1359.4795">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="426.5" y="1359.4795">getPropertyTypes()</text><polygon fill="#181818" points="1020,1390.6875,1030,1394.6875,1020,1398.6875,1024,1394.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1026" y1="1394.6875" y2="1394.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="1389.8311">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="778.5" y="1389.8311">getPropertyTypeRepository()</text><polygon fill="#181818" points="764.5,1421.0391,754.5,1425.0391,764.5,1429.0391,760.5,1425.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1036" y1="1425.0391" y2="1425.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="1420.1826">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="788.5" y="1420.1826">PropertyTypeRepository</text><polygon fill="#181818" points="1907,1451.3906,1917,1455.3906,1907,1459.3906,1911,1455.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1913" y1="1455.3906" y2="1455.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="1450.5342">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="778.5" y="1450.5342">getPropertyTypes()</text><polygon fill="#181818" points="764.5,1481.7422,754.5,1485.7422,764.5,1489.7422,760.5,1485.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="758.5" x2="1923" y1="1485.7422" y2="1485.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="1480.8857">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="788.5" y="1480.8857">propertyTypeList</text><polygon fill="#181818" points="412.5,1512.0938,402.5,1516.0938,412.5,1520.0938,408.5,1516.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="406.5" x2="747.5" y1="1516.0938" y2="1516.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="418.5" y="1511.2373">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="436.5" y="1511.2373">propertyTypeList</text><polygon fill="#181818" points="77.5,1558.7969,67.5,1562.7969,77.5,1566.7969,73.5,1562.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="1562.7969" y2="1562.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="1549.7646">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="101.5" y="1541.5889">shows property type list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="101.5" y="1557.9404">and asks to select one</text><polygon fill="#181818" points="379.5,1589.1484,389.5,1593.1484,379.5,1597.1484,383.5,1593.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="1593.1484" y2="1593.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="1588.292">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="91.5" y="1588.292">selects a property type</text><path d="M10,1608.1484 L71,1608.1484 L71,1616.5 L61,1626.5 L10,1626.5 L10,1608.1484 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="605.7344" style="stroke:#000000;stroke-width:1.5;" width="2210" x="10" y="1608.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="1622.6436">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178" x="86" y="1621.5674">[property = house or apartment]</text><polygon fill="#181818" points="77.5,1661.2031,67.5,1665.2031,77.5,1669.2031,73.5,1665.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="1665.2031" y2="1665.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="1652.1709">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="101.5" y="1643.9951">requests specific data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="101.5" y="1660.3467">(number of bedrooms, number of parking spaces)</text><polygon fill="#181818" points="379.5,1691.5547,389.5,1695.5547,379.5,1699.5547,383.5,1695.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="1695.5547" y2="1695.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="1690.6982">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="91.5" y="1690.6982">types requested data</text><path d="M30,1710.5547 L95,1710.5547 L95,1718.9063 L85,1728.9063 L30,1728.9063 L30,1710.5547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="95.4063" style="stroke:#000000;stroke-width:1.5;" width="474.5" x="30" y="1710.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="45" y="1725.0498">opt</text><polygon fill="#181818" points="77.5,1763.6094,67.5,1767.6094,77.5,1771.6094,73.5,1767.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="1767.6094" y2="1767.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="1754.5771">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="101.5" y="1746.4014">requests optional data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="101.5" y="1762.7529">(number of bathrooms, available equipment)</text><polygon fill="#181818" points="379.5,1793.9609,389.5,1797.9609,379.5,1801.9609,383.5,1797.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="1797.9609" y2="1797.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="1793.1045">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="91.5" y="1793.1045">types requested data</text><path d="M20,1819.9609 L81,1819.9609 L81,1828.3125 L71,1838.3125 L20,1838.3125 L20,1819.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="386.9219" style="stroke:#000000;stroke-width:1.5;" width="2190" x="20" y="1819.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="1834.4561">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103" x="96" y="1833.3799">[property = house]</text><path d="M30,1845.3125 L95,1845.3125 L95,1853.6641 L85,1863.6641 L30,1863.6641 L30,1845.3125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="354.5703" style="stroke:#000000;stroke-width:1.5;" width="2170" x="30" y="1845.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="45" y="1859.8076">opt</text><polygon fill="#181818" points="77.5,1898.3672,67.5,1902.3672,77.5,1906.3672,73.5,1902.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="1902.3672" y2="1902.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="1889.335">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="101.5" y="1881.1592">requests optional data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="101.5" y="1897.5107">(existing basement, inhabitable loft)</text><polygon fill="#181818" points="379.5,1928.7188,389.5,1932.7188,379.5,1936.7188,383.5,1932.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="1932.7188" y2="1932.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="1927.8623">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="91.5" y="1927.8623">types requested data</text><polygon fill="#181818" points="731.5,1959.0703,741.5,1963.0703,731.5,1967.0703,735.5,1963.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="401.5" x2="737.5" y1="1963.0703" y2="1963.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="408.5" y="1958.2139">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="426.5" y="1958.2139">getSunExposureLocation()</text><polygon fill="#181818" points="1020,1989.4219,1030,1993.4219,1020,1997.4219,1024,1993.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1026" y1="1993.4219" y2="1993.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="1988.5654">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="778.5" y="1988.5654">getSunExposureRepository()</text><polygon fill="#181818" points="764.5,2019.7734,754.5,2023.7734,764.5,2027.7734,760.5,2023.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1036" y1="2023.7734" y2="2023.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="2018.917">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="788.5" y="2018.917">SunExposureRepository</text><polygon fill="#181818" points="2088,2050.125,2098,2054.125,2088,2058.125,2092,2054.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="2094" y1="2054.125" y2="2054.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="2049.2686">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="778.5" y="2049.2686">getSunExposureLocation()</text><polygon fill="#181818" points="764.5,2080.4766,754.5,2084.4766,764.5,2088.4766,760.5,2084.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="2104" y1="2084.4766" y2="2084.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="2079.6201">53</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="788.5" y="2079.6201">sunExposureLocationList</text><polygon fill="#181818" points="412.5,2110.8281,402.5,2114.8281,412.5,2118.8281,408.5,2114.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="406.5" x2="747.5" y1="2114.8281" y2="2114.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="418.5" y="2109.9717">54</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="436.5" y="2109.9717">sunExposureLocationList</text><polygon fill="#181818" points="77.5,2157.5313,67.5,2161.5313,77.5,2165.5313,73.5,2161.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="2161.5313" y2="2161.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="2148.499">55</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="101.5" y="2140.3232">shows sun exposure location list</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="101.5" y="2156.6748">and asks to select one</text><polygon fill="#181818" points="379.5,2187.8828,389.5,2191.8828,379.5,2195.8828,383.5,2191.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="2191.8828" y2="2191.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="2187.0264">56</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="91.5" y="2187.0264">select a sun exposure location</text><path d="M30,2227.8828 L103,2227.8828 L103,2236.2344 L93,2246.2344 L30,2246.2344 L30,2227.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="474.5" x="30" y="2227.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="45" y="2242.3779">loop</text><a href="for" target="_top" title="for" xlink:actuate="onRequest" xlink:href="for" xlink:show="new" xlink:title="for" xlink:type="simple"><text fill="#1D1D1D" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="116" x="118" y="2241.3018">at least 1 photograph</text></a><polygon fill="#181818" points="77.5,2264.5859,67.5,2268.5859,77.5,2272.5859,73.5,2268.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="2268.5859" y2="2268.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="2263.7295">57</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="101.5" y="2263.7295">requests photograph</text><polygon fill="#181818" points="379.5,2294.9375,389.5,2298.9375,379.5,2302.9375,383.5,2298.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="2298.9375" y2="2298.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="2294.0811">58</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="91.5" y="2294.0811">submits requested data</text><polygon fill="#181818" points="77.5,2348.6406,67.5,2352.6406,77.5,2356.6406,73.5,2352.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71.5" x2="395.5" y1="2352.6406" y2="2352.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="83.5" y="2339.6084">59</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="101.5" y="2331.4326">requests comission information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="101.5" y="2347.7842">(value and type)</text><polygon fill="#181818" points="379.5,2378.9922,389.5,2382.9922,379.5,2386.9922,383.5,2382.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="385.5" y1="2382.9922" y2="2382.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73.5" y="2378.1357">60</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="91.5" y="2378.1357">submits requested data</text><polygon fill="#181818" points="731.5,2474.75,741.5,2478.75,731.5,2482.75,735.5,2478.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="401.5" x2="737.5" y1="2478.75" y2="2478.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="408.5" y="2441.1904">61</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="426.5" y="2408.4873">createAdvertisement(owner, propertyType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="426.5" y="2424.8389">businessType, commissionValue, commissionInfo,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="426.5" y="2441.1904">numBedrooms, numParkingSpaces, numBathrooms,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="426.5" y="2457.542">availableEquipment, state, city, district, street, zip,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="426.5" y="2473.8936">basement, loft, sunExposure, photographs)</text><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="800.5" y1="2504.1016" y2="2504.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="800.5" x2="800.5" y1="2504.1016" y2="2517.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="759.5" x2="800.5" y1="2517.1016" y2="2517.1016"/><polygon fill="#181818" points="769.5,2513.1016,759.5,2517.1016,769.5,2521.1016,765.5,2517.1016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="765.5" y="2499.2451">62</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="783.5" y="2499.2451">getAgentFromSession()</text><polygon fill="#181818" points="2251.5,2548.4531,2261.5,2552.4531,2251.5,2556.4531,2255.5,2552.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="758.5" x2="2257.5" y1="2552.4531" y2="2552.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="765.5" y="2547.5967">63</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="783.5" y="2547.5967">getInstance()</text><polygon fill="#181818" points="769.5,2578.8047,759.5,2582.8047,769.5,2586.8047,765.5,2582.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="763.5" x2="2267.5" y1="2582.8047" y2="2582.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="775.5" y="2577.9482">64</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="793.5" y="2577.9482">appSession</text><polygon fill="#181818" points="2398.5,2609.1563,2408.5,2613.1563,2398.5,2617.1563,2402.5,2613.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="758.5" x2="2404.5" y1="2613.1563" y2="2613.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="765.5" y="2608.2998">65</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="783.5" y="2608.2998">getCurrentSession()</text><polygon fill="#181818" points="769.5,2639.5078,759.5,2643.5078,769.5,2647.5078,765.5,2643.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="763.5" x2="2414.5" y1="2643.5078" y2="2643.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="775.5" y="2638.6514">66</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="793.5" y="2638.6514">currentSession</text><polygon fill="#181818" points="2531.5,2669.8594,2541.5,2673.8594,2531.5,2677.8594,2535.5,2673.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="758.5" x2="2537.5" y1="2673.8594" y2="2673.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="765.5" y="2669.0029">67</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="783.5" y="2669.0029">getUser()</text><polygon fill="#181818" points="769.5,2700.2109,759.5,2704.2109,769.5,2708.2109,765.5,2704.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="763.5" x2="2547.5" y1="2704.2109" y2="2704.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="775.5" y="2699.3545">68</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="793.5" y="2699.3545">employee</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="800.5" y1="2739.5625" y2="2739.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="800.5" x2="800.5" y1="2739.5625" y2="2752.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="753.5" x2="800.5" y1="2752.5625" y2="2752.5625"/><polygon fill="#181818" points="763.5,2748.5625,753.5,2752.5625,763.5,2756.5625,759.5,2752.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="765.5" y="2734.7061">69</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="783.5" y="2734.7061">employee</text><polygon fill="#181818" points="1020,2773.9141,1030,2777.9141,1020,2781.9141,1024,2777.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1026" y1="2777.9141" y2="2777.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="2773.0576">70</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="778.5" y="2773.0576">getPropertyRepository()</text><polygon fill="#181818" points="764.5,2804.2656,754.5,2808.2656,764.5,2812.2656,760.5,2808.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1036" y1="2808.2656" y2="2808.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="2803.4092">71</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="788.5" y="2803.4092">propertyRepository</text><path d="M615.5,2823.2656 L676.5,2823.2656 L676.5,2831.6172 L666.5,2841.6172 L615.5,2841.6172 L615.5,2823.2656 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="806.6797" style="stroke:#000000;stroke-width:1.5;" width="2600.5" x="615.5" y="2823.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="630.5" y="2837.7607">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118" x="691.5" y="2836.6846">[propertyType = land]</text><polygon fill="#181818" points="2666,2892.6719,2676,2896.6719,2666,2900.6719,2670,2896.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="2672" y1="2896.6719" y2="2896.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="2875.4639">72</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="778.5" y="2859.1123">createProperty(area, distance, propertyType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="778.5" y="2875.4639">state, city, district, street, zip,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="778.5" y="2891.8154">photographs)</text><polygon fill="#181818" points="2976,2955.7266,2986,2959.7266,2976,2963.7266,2980,2959.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2688" x2="2982" y1="2959.7266" y2="2959.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2695" y="2938.5186">73</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="2713" y="2922.167">createProperty(area, distance, propertyType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="2713" y="2938.5186">state, city, district, street, zip,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="2713" y="2954.8701">photographs)</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="2988" y="2907.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="2997.5" y="2929.041">property</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="2995" y="2946.6504">:Property</text><polygon fill="#181818" points="2699,2986.0781,2689,2990.0781,2699,2994.0781,2695,2990.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2693" x2="3023" y1="2990.0781" y2="2990.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2705" y="2985.2217">74</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="2723" y="2985.2217">property</text><polygon fill="#181818" points="764.5,3016.4297,754.5,3020.4297,764.5,3024.4297,760.5,3020.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="2682" y1="3020.4297" y2="3020.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="3015.5732">75</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="788.5" y="3015.5732">property</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="615.5" x2="3216" y1="3029.4297" y2="3029.4297"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="152" x="620.5" y="3040.8486">[propertyType = apartment]</text><polygon fill="#181818" points="2666,3144.375,2676,3148.375,2666,3152.375,2670,3148.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="2672" y1="3148.375" y2="3148.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="3102.6396">76</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="778.5" y="3061.7607">createBuilding(area, distance, propertyType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="778.5" y="3078.1123">rentalPrice, leaseDuration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="778.5" y="3094.4639">numBathrooms, numParkingSpaces,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="778.5" y="3110.8154">numBedrooms, availableEquipment,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="778.5" y="3127.167">state, city, district, street, zip,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="778.5" y="3143.5186">photographs)</text><polygon fill="#181818" points="3058,3256.4844,3068,3260.4844,3058,3264.4844,3062,3260.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2688" x2="3064" y1="3260.4844" y2="3260.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2695" y="3214.749">77</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="2713" y="3173.8701">createBuilding(area, distance, propertyType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="2713" y="3190.2217">rentalPrice, leaseDuration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="2713" y="3206.5732">numBathrooms, numParkingSpaces,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="2713" y="3222.9248">numBedrooms, availableEquipment,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="2713" y="3239.2764">state, city, district, street, zip,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="2713" y="3255.6279">photographs)</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="3070" y="3208.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="3079.5" y="3229.7988">building</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="3077" y="3247.4082">:Building</text><polygon fill="#181818" points="2699,3286.8359,2689,3290.8359,2699,3294.8359,2695,3290.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2693" x2="3103" y1="3290.8359" y2="3290.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2705" y="3285.9795">78</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="2723" y="3285.9795">property</text><polygon fill="#181818" points="764.5,3317.1875,754.5,3321.1875,764.5,3325.1875,760.5,3321.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="2682" y1="3321.1875" y2="3321.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="3316.3311">79</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="788.5" y="3316.3311">property</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="615.5" x2="3216" y1="3330.1875" y2="3330.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130" x="620.5" y="3341.6064">[propertyType = house]</text><polygon fill="#181818" points="2666,3445.1328,2676,3449.1328,2666,3453.1328,2670,3449.1328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="2672" y1="3449.1328" y2="3449.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="3403.3975">80</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="778.5" y="3362.5186">createHouse(area, distance, propertyType, salePrice</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="778.5" y="3378.8701">numBathrooms, numParkingSpaces,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="778.5" y="3395.2217">numBedrooms, availableEquipment,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="778.5" y="3411.5732">basement, loft, sunExposure,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="778.5" y="3427.9248">state, city, district, street, zip,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="778.5" y="3444.2764">photographs)</text><polygon fill="#181818" points="3136,3557.2422,3146,3561.2422,3136,3565.2422,3140,3561.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2688" x2="3142" y1="3561.2422" y2="3561.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2695" y="3515.5068">81</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="2713" y="3474.6279">createHouse(area, distance, propertyType, salePrice</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="2713" y="3490.9795">numBathrooms, numParkingSpaces,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="2713" y="3507.3311">numBedrooms, availableEquipment,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="2713" y="3523.6826">basement, loft, sunExposure,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="2713" y="3540.0342">state, city, district, street, zip,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="2713" y="3556.3857">photographs)</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="3148" y="3509.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="3157.5" y="3530.5566">house</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="3155" y="3548.166">:House</text><polygon fill="#181818" points="2699,3587.5938,2689,3591.5938,2699,3595.5938,2695,3591.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2693" x2="3176" y1="3591.5938" y2="3591.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2705" y="3586.7373">82</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="2723" y="3586.7373">property</text><polygon fill="#181818" points="764.5,3617.9453,754.5,3621.9453,764.5,3625.9453,760.5,3621.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="2682" y1="3621.9453" y2="3621.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="3617.0889">83</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="788.5" y="3617.0889">property</text><polygon fill="#181818" points="1020,3655.2969,1030,3659.2969,1020,3663.2969,1024,3659.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1026" y1="3659.2969" y2="3659.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="3654.4404">84</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="778.5" y="3654.4404">getRequestRepository()</text><polygon fill="#181818" points="764.5,3685.6484,754.5,3689.6484,764.5,3693.6484,760.5,3689.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1036" y1="3689.6484" y2="3689.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="3684.792">85</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="788.5" y="3684.792">RequestRepository</text><polygon fill="#181818" points="3268.5,3748.7031,3278.5,3752.7031,3268.5,3756.7031,3272.5,3752.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="3274.5" y1="3752.7031" y2="3752.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="3731.4951">86</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="778.5" y="3715.1436">createRequest(date, property,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="778.5" y="3731.4951">businessType, salePrice, rentalPrice,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="778.5" y="3747.8467">durationOfContract, employee, person)</text><polygon fill="#181818" points="3492.5,3795.4063,3502.5,3799.4063,3492.5,3803.4063,3496.5,3799.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="3290.5" x2="3498.5" y1="3799.4063" y2="3799.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="3297.5" y="3786.374">87</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="3315.5" y="3778.1982">createRequest(date, property,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="3315.5" y="3794.5498">employee, person)</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="3504.5" y="3760.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="3516" y="3782.2363">request</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="3511.5" y="3799.8457">:Request</text><polygon fill="#181818" points="3301.5,3839.2734,3291.5,3843.2734,3301.5,3847.2734,3297.5,3843.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3295.5" x2="3539" y1="3843.2734" y2="3843.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="3307.5" y="3838.417">88</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="3325.5" y="3838.417">request</text><polygon fill="#181818" points="764.5,3869.625,754.5,3873.625,764.5,3877.625,760.5,3873.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="3284.5" y1="3873.625" y2="3873.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="3868.7686">89</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="788.5" y="3868.7686">request</text><polygon fill="#181818" points="1020,3899.9766,1030,3903.9766,1020,3907.9766,1024,3903.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="1026" y1="3903.9766" y2="3903.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="3899.1201">90</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="778.5" y="3899.1201">getAdvertisementRepository()</text><polygon fill="#181818" points="764.5,3930.3281,754.5,3934.3281,764.5,3938.3281,760.5,3934.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="1036" y1="3934.3281" y2="3934.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="3929.4717">91</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="788.5" y="3929.4717">AdvertisementRepository</text><polygon fill="#181818" points="3656.5,3977.0313,3666.5,3981.0313,3656.5,3985.0313,3660.5,3981.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="753.5" x2="3662.5" y1="3981.0313" y2="3981.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="760.5" y="3967.999">92</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="778.5" y="3959.8232">createAdvertisement(date, request,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="778.5" y="3976.1748">commissionType, commissionValue)</text><polygon fill="#181818" points="3921.5,4023.7344,3931.5,4027.7344,3921.5,4031.7344,3925.5,4027.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="3678.5" x2="3927.5" y1="4027.7344" y2="4027.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="3685.5" y="4014.7021">93</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="3703.5" y="4006.5264">createAdvertisement(date, request,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="3703.5" y="4022.8779">commissionType, commissionValue)</text><rect fill="#E3E3E3" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="3933.5" y="3989.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="3943" y="4010.5645">advertisement</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="3940.5" y="4028.1738">:Advertisement</text><polygon fill="#181818" points="3689.5,4067.6016,3679.5,4071.6016,3689.5,4075.6016,3685.5,4071.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3683.5" x2="3986.5" y1="4071.6016" y2="4071.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="3695.5" y="4066.7451">94</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="3713.5" y="4066.7451">advertisement</text><polygon fill="#181818" points="764.5,4097.9531,754.5,4101.9531,764.5,4105.9531,760.5,4101.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="758.5" x2="3672.5" y1="4101.9531" y2="4101.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="770.5" y="4097.0967">95</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="788.5" y="4097.0967">advertisement</text><polygon fill="#181818" points="412.5,4128.3047,402.5,4132.3047,412.5,4136.3047,408.5,4132.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="406.5" x2="747.5" y1="4132.3047" y2="4132.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="418.5" y="4127.4482">96</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="436.5" y="4127.4482">advertisement</text><polygon fill="#181818" points="72.5,4158.6563,62.5,4162.6563,72.5,4166.6563,68.5,4162.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="66.5" x2="395.5" y1="4162.6563" y2="4162.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="78.5" y="4157.7998">97</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="96.5" y="4157.7998">displays operation success</text><!--MD5=[ea41f177f9089bc395aba17957ea7d94]
@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Agent" as AG
participant ":CreateSaleAnnouncementUI" as UI
participant ":CreateSaleAnnouncementController" as CTRL
participant ":Repositories" as RepositorySingleton
participant "repositories\n:Repositories" as PLAT
participant "userRepository\n:UserRepository" as UR
participant "personRepository\n:PersonRepository" as PR
participant "person\n:Person" as Person
participant "businessTypeRepository\n:BusinessTypeRepository" as BTR
participant "propertyTypeRepository\n:PropertyTypeRepository" as PTR
participant "sunExposureRepository\n:SunExposureRepository" as SER
participant ":ApplicationSession" as _APP
participant "appSession\n:ApplicationSession" as APP
participant "currentSession\n:UserSession" as SESSAO
participant "propertyRepository\n:PropertyRepository" as PropertyRepository
participant "property\n:Property" as Property
participant "building\n:Building" as Building
participant "house\n:House" as House
participant "requestRepository\n:RequestRepository" as RequestRepository
participant "request\n:Request" as Request
participant "advertisementRepository\n:AdvertisementRepository" as AdvertisementRepository
participant "advertisement\n:Advertisement" as Advertisement


activate AG

    AG -> UI : asks to create a new sale announcement
    activate UI
        UI -> CTRL** : creates
        activate CTRL
            CTRL -> RepositorySingleton : getInstance()
            activate RepositorySingleton
                RepositorySingleton - -> CTRL : repositories
            deactivate RepositorySingleton
        deactivate CTRL
        UI - -> AG : request owner data\n(email, citizen ID, tin, phone number, name)
    deactivate UI

    AG -> UI : types requested data
    activate UI

        UI ->  CTRL : getOwner(email, citizen ID, tin, phone number, name)

            activate CTRL
                CTRL -> PLAT : getPersonRepository()
                activate PLAT
                    PLAT - -> CTRL : PersonRepository
                deactivate PLAT
                CTRL -> PR : getPerson(citizenID)
                activate PR
                    PR - -> CTRL : person
                deactivate PR
            CTRL - -> CTRL : person

            alt person = NULL
                CTRL -> PR : createPerson\n(email, citizenID, tin, phoneNumber, name)
                activate PR
                    PR -> Person** : createPerson\n(email, citizenID, tin, phoneNumber, name)
                    activate Person
                        Person - -> PR : person
                    deactivate Person
                    PR - -> CTRL : person
                deactivate PR
            end

            CTRL - -> UI : person
        deactivate CTRL
        UI - -> AG : requests general property data\n(area, distance from city center)
    deactivate UI
    
    AG -> UI : types requested data
    activate UI
        UI - -> AG : requests property location data\n(state, city, district, street, zip code)
    deactivate UI

    AG -> UI : types requested data
    activate UI
        UI -> CTRL : getBusinessTypes()

        activate CTRL
            CTRL -> PLAT : getBusinessTypeRepository()
            activate PLAT
                PLAT - -> CTRL : BusinessTypeRepository
            deactivate PLAT
            CTRL -> BTR : getBusinessTypes()
            activate BTR
                BTR - -> CTRL: businessTypeList
            deactivate BTR
            CTRL - -> UI : businessTypeList
        deactivate CTRL

        UI - -> AG : shows business type list\nand asks to select one
    deactivate UI

    AG -> UI : selects a business type
    activate UI
    alt businessType = sale
        UI - -> AG : request sale price
    else businessType = rent
        UI - -> AG : request price per month
    AG -> UI : types requested data
        UI - -> AG : request lease duration
    deactivate UI
    end

    AG -> UI : types requested data
    activate UI
        UI -> CTRL : getPropertyTypes()

        activate CTRL
            CTRL -> PLAT : getPropertyTypeRepository()
            activate PLAT
                PLAT - -> CTRL : PropertyTypeRepository
            deactivate PLAT
            CTRL -> PTR : getPropertyTypes()
            activate PTR
                PTR -> CTRL : propertyTypeList
            deactivate PTR
            CTRL - -> UI : propertyTypeList
        deactivate CTRL
        
        UI - -> AG : shows property type list\nand asks to select one
    deactivate UI
    
    AG -> UI : selects a property type
    alt property = house or apartment
        activate UI
            UI - -> AG : requests specific data\n(number of bedrooms, number of parking spaces)
        deactivate UI
        AG -> UI : types requested data

        opt
            activate UI
                UI - -> AG : requests optional data\n(number of bathrooms, available equipment)
            deactivate UI
            AG -> UI : types requested data
            activate UI
        end

        alt property = house
            opt
                activate UI
                    UI - -> AG : requests optional data\n(existing basement, inhabitable loft)
                deactivate UI
                AG -> UI : types requested data

                activate UI
                    UI -> CTRL : getSunExposureLocation()

                    activate CTRL
                        CTRL -> PLAT : getSunExposureRepository()
                        activate PLAT
                            PLAT - -> CTRL : SunExposureRepository
                        deactivate PLAT
                        CTRL -> SER : getSunExposureLocation()
                        activate SER
                            SER - -> CTRL : sunExposureLocationList
                        deactivate SER
                        CTRL - -> UI : sunExposureLocationList
                    deactivate CTRL
                
                UI - -> AG : shows sun exposure location list\nand asks to select one
                deactivate UI
                AG -> UI : select a sun exposure location
                activate UI
            end
        end
    end

    loop [for at least 1 photograph]
            UI - -> AG : requests photograph
        deactivate UI
        AG -> UI : submits requested data
        activate UI
    end
            UI - -> AG : requests comission information\n(value and type)
        deactivate UI
    AG -> UI : submits requested data

    activate UI
        UI -> CTRL : createAdvertisement(owner, propertyType,\nbusinessType, commissionValue, commissionInfo,\nnumBedrooms, numParkingSpaces, numBathrooms,\navailableEquipment, state, city, district, street, zip,\nbasement, loft, sunExposure, photographs)
        activate CTRL

            CTRL -> CTRL : getAgentFromSession()
            activate CTRL
                CTRL -> _APP : getInstance()
                activate _APP
                    _APP -> CTRL: appSession
                deactivate _APP

                CTRL -> APP: getCurrentSession()
                activate APP
                    APP - -> CTRL: currentSession
                deactivate APP

                CTRL -> SESSAO: getUser()
                activate SESSAO
                    SESSAO - -> CTRL: employee
                deactivate SESSAO

                CTRL - -> CTRL : employee
            deactivate CTRL

            CTRL -> PLAT : getPropertyRepository()
            activate PLAT
                PLAT - -> CTRL : propertyRepository
            deactivate PLAT

            alt propertyType = land
                CTRL -> PropertyRepository : createProperty(area, distance, propertyType,\nstate, city, district, street, zip,\nphotographs)
                activate PropertyRepository
                    PropertyRepository -> Property** : createProperty(area, distance, propertyType,\nstate, city, district, street, zip,\nphotographs)
                    activate Property
                        Property - -> PropertyRepository : property
                    deactivate Property
                PropertyRepository - -> CTRL : property
                deactivate PropertyRepository

            else propertyType = apartment
                CTRL -> PropertyRepository : createBuilding(area, distance, propertyType,\nrentalPrice, leaseDuration,\nnumBathrooms, numParkingSpaces,\nnumBedrooms, availableEquipment,\nstate, city, district, street, zip,\nphotographs)
                activate PropertyRepository
                    PropertyRepository -> Building** : createBuilding(area, distance, propertyType,\nrentalPrice, leaseDuration,\nnumBathrooms, numParkingSpaces,\nnumBedrooms, availableEquipment,\nstate, city, district, street, zip,\nphotographs)
                    activate Building
                        Building - -> PropertyRepository : property
                    deactivate Building
                PropertyRepository - -> CTRL : property
                deactivate PropertyRepository

            else propertyType = house
                CTRL -> PropertyRepository : createHouse(area, distance, propertyType, salePrice\nnumBathrooms, numParkingSpaces,\nnumBedrooms, availableEquipment,\nbasement, loft, sunExposure,\nstate, city, district, street, zip,\nphotographs)
                activate PropertyRepository
                    PropertyRepository -> House** : createHouse(area, distance, propertyType, salePrice\nnumBathrooms, numParkingSpaces,\nnumBedrooms, availableEquipment,\nbasement, loft, sunExposure,\nstate, city, district, street, zip,\nphotographs)
                    activate House
                        House - -> PropertyRepository : property
                    deactivate House
                PropertyRepository - -> CTRL : property
                deactivate PropertyRepository
            end

/'
            CTRL -> CTRL : addProperty(property)
            activate CTRL
                CTRL -> PLAT : getPropertyRepository()
                activate PLAT
                    PLAT - -> CTRL : propertyRepository
                deactivate PLAT
                CTRL -> PropertyRepository : addProperty(property)
                activate PropertyRepository
                    PropertyRepository - -> CTRL
                deactivate PropertyRepository
                CTRL - -> CTRL
            deactivate CTRL 
'/

            CTRL -> PLAT : getRequestRepository()
            activate PLAT
                PLAT - -> CTRL : RequestRepository
            deactivate PLAT
            CTRL -> RequestRepository : createRequest(date, property,\nbusinessType, salePrice, rentalPrice,\ndurationOfContract, employee, person)
            activate RequestRepository
                RequestRepository -> Request** : createRequest(date, property,\nemployee, person)
                activate Request
                    Request - -> RequestRepository : request
                deactivate Request
                RequestRepository - -> CTRL : request
            deactivate RequestRepository

            CTRL -> PLAT : getAdvertisementRepository()
            activate PLAT
                PLAT - -> CTRL : AdvertisementRepository
            deactivate PLAT

            CTRL -> AdvertisementRepository : createAdvertisement(date, request,\ncommissionType, commissionValue)
            activate AdvertisementRepository
                AdvertisementRepository -> Advertisement** : createAdvertisement(date, request,\ncommissionType, commissionValue)
                activate Advertisement
                    Advertisement - -> AdvertisementRepository : advertisement
                deactivate Advertisement
                AdvertisementRepository - -> CTRL : advertisement
            deactivate AdvertisementRepository

            CTRL - -> UI : advertisement
        deactivate CTRL
        
        UI - -> AG : displays operation success
    deactivate UI

deactivate AG

@enduml

@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

actor "Agent" as AG
participant ":CreateSaleAnnouncementUI" as UI
participant ":CreateSaleAnnouncementController" as CTRL
participant ":Repositories" as RepositorySingleton
participant "repositories\n:Repositories" as PLAT
participant "userRepository\n:UserRepository" as UR
participant "personRepository\n:PersonRepository" as PR
participant "person\n:Person" as Person
participant "businessTypeRepository\n:BusinessTypeRepository" as BTR
participant "propertyTypeRepository\n:PropertyTypeRepository" as PTR
participant "sunExposureRepository\n:SunExposureRepository" as SER
participant ":ApplicationSession" as _APP
participant "appSession\n:ApplicationSession" as APP
participant "currentSession\n:UserSession" as SESSAO
participant "propertyRepository\n:PropertyRepository" as PropertyRepository
participant "property\n:Property" as Property
participant "building\n:Building" as Building
participant "house\n:House" as House
participant "requestRepository\n:RequestRepository" as RequestRepository
participant "request\n:Request" as Request
participant "advertisementRepository\n:AdvertisementRepository" as AdvertisementRepository
participant "advertisement\n:Advertisement" as Advertisement


activate AG

    AG -> UI : asks to create a new sale announcement
    activate UI
        UI -> CTRL** : creates
        activate CTRL
            CTRL -> RepositorySingleton : getInstance()
            activate RepositorySingleton
                RepositorySingleton - -> CTRL : repositories
            deactivate RepositorySingleton
        deactivate CTRL
        UI - -> AG : request owner data\n(email, citizen ID, tin, phone number, name)
    deactivate UI

    AG -> UI : types requested data
    activate UI

        UI ->  CTRL : getOwner(email, citizen ID, tin, phone number, name)

            activate CTRL
                CTRL -> PLAT : getPersonRepository()
                activate PLAT
                    PLAT - -> CTRL : PersonRepository
                deactivate PLAT
                CTRL -> PR : getPerson(citizenID)
                activate PR
                    PR - -> CTRL : person
                deactivate PR
            CTRL - -> CTRL : person

            alt person = NULL
                CTRL -> PR : createPerson\n(email, citizenID, tin, phoneNumber, name)
                activate PR
                    PR -> Person** : createPerson\n(email, citizenID, tin, phoneNumber, name)
                    activate Person
                        Person - -> PR : person
                    deactivate Person
                    PR - -> CTRL : person
                deactivate PR
            end

            CTRL - -> UI : person
        deactivate CTRL
        UI - -> AG : requests general property data\n(area, distance from city center)
    deactivate UI
    
    AG -> UI : types requested data
    activate UI
        UI - -> AG : requests property location data\n(state, city, district, street, zip code)
    deactivate UI

    AG -> UI : types requested data
    activate UI
        UI -> CTRL : getBusinessTypes()

        activate CTRL
            CTRL -> PLAT : getBusinessTypeRepository()
            activate PLAT
                PLAT - -> CTRL : BusinessTypeRepository
            deactivate PLAT
            CTRL -> BTR : getBusinessTypes()
            activate BTR
                BTR - -> CTRL: businessTypeList
            deactivate BTR
            CTRL - -> UI : businessTypeList
        deactivate CTRL

        UI - -> AG : shows business type list\nand asks to select one
    deactivate UI

    AG -> UI : selects a business type
    activate UI
    alt businessType = sale
        UI - -> AG : request sale price
    else businessType = rent
        UI - -> AG : request price per month
    AG -> UI : types requested data
        UI - -> AG : request lease duration
    deactivate UI
    end

    AG -> UI : types requested data
    activate UI
        UI -> CTRL : getPropertyTypes()

        activate CTRL
            CTRL -> PLAT : getPropertyTypeRepository()
            activate PLAT
                PLAT - -> CTRL : PropertyTypeRepository
            deactivate PLAT
            CTRL -> PTR : getPropertyTypes()
            activate PTR
                PTR -> CTRL : propertyTypeList
            deactivate PTR
            CTRL - -> UI : propertyTypeList
        deactivate CTRL
        
        UI - -> AG : shows property type list\nand asks to select one
    deactivate UI
    
    AG -> UI : selects a property type
    alt property = house or apartment
        activate UI
            UI - -> AG : requests specific data\n(number of bedrooms, number of parking spaces)
        deactivate UI
        AG -> UI : types requested data

        opt
            activate UI
                UI - -> AG : requests optional data\n(number of bathrooms, available equipment)
            deactivate UI
            AG -> UI : types requested data
            activate UI
        end

        alt property = house
            opt
                activate UI
                    UI - -> AG : requests optional data\n(existing basement, inhabitable loft)
                deactivate UI
                AG -> UI : types requested data

                activate UI
                    UI -> CTRL : getSunExposureLocation()

                    activate CTRL
                        CTRL -> PLAT : getSunExposureRepository()
                        activate PLAT
                            PLAT - -> CTRL : SunExposureRepository
                        deactivate PLAT
                        CTRL -> SER : getSunExposureLocation()
                        activate SER
                            SER - -> CTRL : sunExposureLocationList
                        deactivate SER
                        CTRL - -> UI : sunExposureLocationList
                    deactivate CTRL
                
                UI - -> AG : shows sun exposure location list\nand asks to select one
                deactivate UI
                AG -> UI : select a sun exposure location
                activate UI
            end
        end
    end

    loop [for at least 1 photograph]
            UI - -> AG : requests photograph
        deactivate UI
        AG -> UI : submits requested data
        activate UI
    end
            UI - -> AG : requests comission information\n(value and type)
        deactivate UI
    AG -> UI : submits requested data

    activate UI
        UI -> CTRL : createAdvertisement(owner, propertyType,\nbusinessType, commissionValue, commissionInfo,\nnumBedrooms, numParkingSpaces, numBathrooms,\navailableEquipment, state, city, district, street, zip,\nbasement, loft, sunExposure, photographs)
        activate CTRL

            CTRL -> CTRL : getAgentFromSession()
            activate CTRL
                CTRL -> _APP : getInstance()
                activate _APP
                    _APP -> CTRL: appSession
                deactivate _APP

                CTRL -> APP: getCurrentSession()
                activate APP
                    APP - -> CTRL: currentSession
                deactivate APP

                CTRL -> SESSAO: getUser()
                activate SESSAO
                    SESSAO - -> CTRL: employee
                deactivate SESSAO

                CTRL - -> CTRL : employee
            deactivate CTRL

            CTRL -> PLAT : getPropertyRepository()
            activate PLAT
                PLAT - -> CTRL : propertyRepository
            deactivate PLAT

            alt propertyType = land
                CTRL -> PropertyRepository : createProperty(area, distance, propertyType,\nstate, city, district, street, zip,\nphotographs)
                activate PropertyRepository
                    PropertyRepository -> Property** : createProperty(area, distance, propertyType,\nstate, city, district, street, zip,\nphotographs)
                    activate Property
                        Property - -> PropertyRepository : property
                    deactivate Property
                PropertyRepository - -> CTRL : property
                deactivate PropertyRepository

            else propertyType = apartment
                CTRL -> PropertyRepository : createBuilding(area, distance, propertyType,\nrentalPrice, leaseDuration,\nnumBathrooms, numParkingSpaces,\nnumBedrooms, availableEquipment,\nstate, city, district, street, zip,\nphotographs)
                activate PropertyRepository
                    PropertyRepository -> Building** : createBuilding(area, distance, propertyType,\nrentalPrice, leaseDuration,\nnumBathrooms, numParkingSpaces,\nnumBedrooms, availableEquipment,\nstate, city, district, street, zip,\nphotographs)
                    activate Building
                        Building - -> PropertyRepository : property
                    deactivate Building
                PropertyRepository - -> CTRL : property
                deactivate PropertyRepository

            else propertyType = house
                CTRL -> PropertyRepository : createHouse(area, distance, propertyType, salePrice\nnumBathrooms, numParkingSpaces,\nnumBedrooms, availableEquipment,\nbasement, loft, sunExposure,\nstate, city, district, street, zip,\nphotographs)
                activate PropertyRepository
                    PropertyRepository -> House** : createHouse(area, distance, propertyType, salePrice\nnumBathrooms, numParkingSpaces,\nnumBedrooms, availableEquipment,\nbasement, loft, sunExposure,\nstate, city, district, street, zip,\nphotographs)
                    activate House
                        House - -> PropertyRepository : property
                    deactivate House
                PropertyRepository - -> CTRL : property
                deactivate PropertyRepository
            end


            CTRL -> PLAT : getRequestRepository()
            activate PLAT
                PLAT - -> CTRL : RequestRepository
            deactivate PLAT
            CTRL -> RequestRepository : createRequest(date, property,\nbusinessType, salePrice, rentalPrice,\ndurationOfContract, employee, person)
            activate RequestRepository
                RequestRepository -> Request** : createRequest(date, property,\nemployee, person)
                activate Request
                    Request - -> RequestRepository : request
                deactivate Request
                RequestRepository - -> CTRL : request
            deactivate RequestRepository

            CTRL -> PLAT : getAdvertisementRepository()
            activate PLAT
                PLAT - -> CTRL : AdvertisementRepository
            deactivate PLAT

            CTRL -> AdvertisementRepository : createAdvertisement(date, request,\ncommissionType, commissionValue)
            activate AdvertisementRepository
                AdvertisementRepository -> Advertisement** : createAdvertisement(date, request,\ncommissionType, commissionValue)
                activate Advertisement
                    Advertisement - -> AdvertisementRepository : advertisement
                deactivate Advertisement
                AdvertisementRepository - -> CTRL : advertisement
            deactivate AdvertisementRepository

            CTRL - -> UI : advertisement
        deactivate CTRL
        
        UI - -> AG : displays operation success
    deactivate UI

deactivate AG

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>